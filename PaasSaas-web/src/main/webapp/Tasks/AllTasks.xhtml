<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	template="/_MyTemplatepage.xhtml">
		<h:head></h:head>
	<ui:define name="test">
	<br />
	<h:form>
	<p >Vous pouvez faire une recherche : </p>
							<h:inputText value="#{tasks.search}" />
							<h:commandButton  class="btn btn-success btn-xs" action="#{tasks.getTasks()}" value="Rechercher" />
	
	</h:form>
<h2><i class="fa fa-angle-right"></i>     Consulter la liste des taches disponibles</h2>
		<h:form>
			
			<br></br>
			
		
			<table class="table table-striped table-advance table-hover" align="center">
				<tr>
					<th>
            <i class="fa fa-bookmark"></i>Nom du tache</th>
					<th class="hidden-phone">
            <i class="fa fa-question-circle"></i>Nom responsable du tache </th>
					 <th>
            <i class="fa fa-calendar" /> Date limite pour cette tache</th>
					 <th>
            <i class="fa fa-bullhorn"></i>Cette tache doit Ã©tre terminer dans</th>
					<th>
            <i class=" fa fa-edit"></i>Il vous reste seulement</th>
				</tr>
				<c:forEach items="#{tasks.getTasks()}" var="tas">
					<tr>
						<td><h:outputText value="${tas.get('name')}" /></td>
						<td><h:outputText value="${tas.get('nuser')}" /></td>
					<td><h:outputText value="${tas.get('date')}" /></td>
						

						<td><h:outputText style="color:blue" value="${tas.get('diff')}" /></td>
						<td><h:outputText style="color:red"  value="${tas.get('rest')}" /></td>
					


<td>
<h:commandButton class="btn btn-success btn-xs" action="#{tasks.getTaskById(tas.get('id'))}"
value="Details" /></td>
<td>
<h:commandButton  class="btn btn-danger btn-xs" action="#{tasks.delete(tas.get('id'))}"
value="Delete" /></td>
<td>
<h:commandButton  class="btn btn-warning btn-xs" action="#{tasks.sendMail()}"
value="Remind" /></td>
</tr>	

				</c:forEach>
			</table>
		</h:form>

	</ui:define>
</ui:composition>